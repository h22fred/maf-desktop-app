<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Dashbaord</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="BizDock">
<meta name="author" content="The Agile Factory">
<link rel="shortcut icon" type="image/png"
	href="/assets/images/favicon.png">
<link rel="stylesheet" media="screen"
	href="/assets/stylesheets/main.css">



<link href="/assets/framework/lib/bootstrap/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="/assets/framework/lib/bootstrap-jasny/css/jasny-bootstrap.min.css"
	rel="stylesheet">

<link href="/assets/framework/lib/font-awesome/css/font-awesome.min.css"
	rel="stylesheet">

<script src="/assets/framework/lib/jquery/jquery-1.11.1.min.js"></script>

<script src="/assets/framework/lib/bootstrap/js/bootstrap.min.js"></script>
<script
	src="/assets/framework/lib/bootstrap-jasny/js/jasny-bootstrap.min.js"></script>

<script
	src="/assets/framework/lib/datepicker/js/bootstrap-datepicker.js"></script>
<link
	href="/assets/framework/lib/x-editable/bootstrap3-editable/css/bootstrap-editable.css"
	rel="stylesheet">
<script
	src="/assets/framework/lib/x-editable/bootstrap3-editable/js/bootstrap-editable.min.js"></script>
<script
	src="/assets/framework/lib/datepicker/js/locales/bootstrap-datepicker.de.js"></script>
<script
	src="/assets/framework/lib/datepicker/js/locales/bootstrap-datepicker.fr.js"></script>
<link
	href="/assets/framework/lib/x-editable/inputs-ext/typeaheadjs/lib/typeahead.js-bootstrap.css"
	rel="stylesheet">
<script
	src="/assets/framework/lib/x-editable/inputs-ext/typeaheadjs/lib/typeahead.js"></script>
<script
	src="/assets/framework/lib/x-editable/inputs-ext/typeaheadjs/typeaheadjs.js"></script>
<link href="/assets/framework/lib/jquery-gantt/css/style.css"
	type="text/css" rel="stylesheet">
<script
	src="/assets/framework/lib/jquery-gantt/js/jquery.fn.gantt.min.js"></script>
<script
	src="/assets/framework/lib/jquery-gantt/js/jquery.fn.gantt.transl.js"></script>
<link rel="stylesheet" media="screen"
	href="/assets/framework/lib/jquery-taf-tree/css/taf-tree.css">
<script src="/assets/framework/lib/jquery-taf-tree/js/taf-tree.js"></script>
<link rel="stylesheet"
	href="/assets/framework/lib/bootstrap-calendar/css/calendar.min.css">
<script type="text/javascript"
	src="/assets/framework/lib/bootstrap-calendar/components/underscore/underscore-min.js"></script>
<script type="text/javascript"
	src="/assets/framework/lib/bootstrap-calendar/components/jstimezonedetect/jstz.min.js"></script>
<script type="text/javascript"
	src="/assets/framework/lib/bootstrap-calendar/js/language/fr.js"></script>
<script type="text/javascript"
	src="/assets/framework/lib/bootstrap-calendar/js/language/de.js"></script>
<script type="text/javascript"
	src="/assets/framework/lib/bootstrap-calendar/js/calendar.js"></script>
<script type="text/javascript"
	src="/assets/framework/lib/highcharts/highcharts.js"></script>
<script type="text/javascript"
	src="/assets/framework/lib/bootstrap-tour/js/bootstrap-tour.min.js"></script>
<link
	href="/assets/framework/lib/bootstrap-tour/css/bootstrap-tour.min.css"
	rel="stylesheet">

<link
	href='//fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,700italic,400,600,700'
	rel='stylesheet' type='text/css'>



<script
	src="/assets/framework/javascripts/main.min.js?e8f04a2c87a597600d593158458d550b83de61bb"></script>
<link
	href="/assets/framework/stylesheets/main.css?058df649681b83a0d0c7e5ca339a000fc240d619"
	type="text/css" rel="stylesheet">
<script>
	var _maf_translations = {
		unchecked : "false",
		checked : "true",
		filtersSelectorTitle : "Select filters",
		columnsSelectorTitle : "Select columns",
		from : "from",
		to : "to",
		empty : "empty",
		kpi : "KPI"
	};
	var _maf_language = "en";
</script>

<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  		<script src="/assets/framework/lib/html5shiv.js"></script>
  		<script src="/assets/framework/lib/respond.min.js"></script>
<![endif]-->








<script src="/assets/javascripts/interact.js"></script>
<style>
._maf_widget_dashboard_row {
}

._maf_widget_dashboard_row_activated{
	border-color: #bbb;
	border: dashed 1px;
	margin: 1em;
	padding: 1em;
}

._maf_widget_dashboard_row_trash {
	padding-bottom: 1em;
	font-size: 1em;
}

._maf_widget_dashboard_row_trash_button {
}

._maf_widget_dashboard_row_add {
	padding-top: 0.5em;
	padding-bottom: 1em;
	font-size: 1em;
	clear:both;
}

._maf_widget_dashboard_row_add_button {
}

._maf_widget_widget_commands{
}

._maf_widget_widget_command_trash{
}

._maf_widget_widget_command_configure{
}

._maf_widget_dashboard_template_cell {
	background-color: silver;
	border: solid 1px;
}

._maf_widget_dashboard_template_row {
	border-color: #ccc;
	border: solid 1px;
}

._maf_widget_draggable {
}
._maf_widget_widget_area {
	
}

._maf_widget_widget {
}

._maf_widget_error{
	margin: 1em;
	padding: 1em;
}

._maf_widget_widget_placeholder {
	background-color: silver;
	border-color: #ccc;
	border: dashed 1px;
	border-radius: 5px;
}
._maf_widget_drop-active {
	border-color: #aaa;
	border: dashed 2px;
	border-radius: 2px;
}
._maf_widget_drop-selected {
	border-color: #ff0000;
}
</style>



</head>
<body>








	<div class="navbar navbar-default navbar-static-top" role="navigation"
		style="position: inherit;">
		<div class="pull-left hidden-xs"
			style="line-height: 50px; padding-left: 8px; padding-right: 8px;">





			<img src="/assets/images/white-logo-ver1.0-32x32.png" />




		</div>
		<div class="pull-right"
			style="line-height: 50px; padding-left: 50px; padding-right: 8px;">

		</div>
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>


				<a class="navbar-brand" href="/"> <span
					style="font-size: 28px; font-family: 'Open Sans', sans-serif; font-weight: 600;">
						<font color="#777777">Biz</font><font color="#558ed5">D</font><font
						color="#777777">ock</font>
				</span> &nbsp; <i></i>
				</a>

			</div>
			<div class="collapse navbar-collapse">
				<ul id="topmenubar-navbar-left" class="nav navbar-nav navbar-left"></ul>
				<ul class="nav navbar-nav navbar-right">

















				</ul>
			</div>
		</div>
	</div>



	<div class="container-fluid">




		<div class="row">
			<div class="col-md-12">

				<div class="pull-right visible-lg visible-md"
					style="padding-top: 5px; padding-right: 5px;">
					<a id="pinThisPage" class="btn btn-default" href="#"><i
						class="fa fa-thumb-tack fa-lg"></i></a> <a id="helpTarget"
						class="btn btn-default" target="_blank"
						href="/help?route=%2Fdash%2F"><i
						class="fa fa-question-circle fa-lg"></i></a>
				</div>

				<ol class="breadcrumb">


					<li class="active">Dashboard</li>


				</ol>

				<script type="text/javascript">
					$("#pinThisPage")
							.click(
									function() {
										var name = $(document).attr('title');
										var route = window.location.pathname
												+ window.location.search;
										$
												.ajax({
													type : 'POST',
													url : '/shortcut/add',
													data : JSON.stringify({
														'name' : name,
														'route' : route
													}),
													contentType : "application/json; charset=utf-8",
													dataType : 'json',
													success : function(data) {
														$
																.ajax({
																	type : 'GET',
																	url : '/shortcuts/view',
																	success : function(
																			data) {
																		$(
																				"#topmenubar-navbar-left")
																				.html(
																						data);
																	}
																});
														alert(data.message);
													},
													error : function(data) {
														alert("Impossible to bookmark this page due to a technical error.");
													}
												});
									});
				</script>

			</div>
		</div>

		<div id="maf-flash-message" class="row"></div>

		<div class="row">
			<div class="col-md-6">
				<div class="btn-group" data-toggle="buttons">
					<label class="btn btn-primary active"> <input type="radio"
						name="options" id="option1" autocomplete="off" checked>
						Page A
					</label> <label class="btn btn-primary"> <input type="radio"
						name="options" id="option2" autocomplete="off"> Page B
					</label> <label class="btn btn-primary"> <input type="radio"
						name="options" id="option3" autocomplete="off"> Page C
					</label>
				</div>
			</div>
			<div class="col-md-6">
				<p class="text-right">
					<a id="_maf_widget_edition_mode" class="btn btn-primary" href="#"><i class="fa fa-cog"></i>&nbsp;Edit
						page</a>
				</p>
			</div>
		</div>
		<div class="row">
			<div id="workspace" class="col-md-12">
				<!-- Page wide widget -->
				<div class="row _maf_widget_dashboard_row">
					<div class="col-md-12 _maf_widget_widget_area"></div>
				</div>
				<!-- Two widgets -->
				<div class="row _maf_widget_dashboard_row">
					<div class="col-md-6 _maf_widget_widget_area"></div>
					<div class="col-md-6 _maf_widget_widget_area"></div>
				</div>
				<!-- Three widgets -->
				<div class="row _maf_widget_dashboard_row">
					<div class="col-md-4 _maf_widget_widget_area"></div>
					<div class="col-md-4 _maf_widget_widget_area"></div>
					<div class="col-md-4 _maf_widget_widget_area"></div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			var _dashboardServiceInstance={};
			$(document).ready(function() {
				_dashboardServiceInstance=new _maf_widget_dashboardService();
				_dashboardServiceInstance.refresh(function (){
					//Add the widgets to the dashboard page
					var rowIndex=0;
					$("._maf_widget_dashboard_row").each(function(){
						var widgetIndex=0;
						var rowConfig=_dashboardServiceInstance.dashboardData[rowIndex];
						$(this).children("._maf_widget_widget_area").each(function(){
							var widgetId=rowConfig.widgets[widgetIndex];
							if(widgetId!=-1){
								_maf_widget_loadWidget($(this),"/dash/widget/"+widgetId,"/assets/images/ajax-loader.gif","Unable to load the widget");
							}
							widgetIndex++;
						});
						rowIndex++;
					});
					//Activate the edition mode selector
					$("#_maf_widget_edition_mode").click(function(event){
						event.preventDefault();
						_dashboardServiceInstance.toggleEditonMode();
					});
					//Register to the dashboard row template selector
					$('#dashboardRowTemplateSelectorAddButton').click(function(event){
						$('#dashboardRowTemplateSelector').modal('hide');
					});
					$('#dashboardRowTemplateSelector').on('hide.bs.modal',function(event){
						var modal = $(this);
						var selectDashboardRow=modal.data("mafSourceDashboardRow");
						var numberOfColumns=$("#dashboardRowTemplateSelector input:radio[name='dashboardRowOption']:checked").val();
						var jqxhr = $.get("/dash/row/"+numberOfColumns, function(data) {
							_dashboardServiceInstance.toggleEditonMode();
							selectDashboardRow.after(data);
							_dashboardServiceInstance.toggleEditonMode();
						});
					});
				});
			});
			
			/**
			 * The service which is managing the dashboard data
			 */
			function _maf_widget_dashboardService(){
				this.editionMode=false;
				this.dashboardData=[];
				this.placeHolderMessage='<div class="_maf_widget_widget_placeholder"><br/><br/><h4 class="text-center">Drag your widgets here or <a class="._maf_widget_add" href="#">add a new widget</a></h4><br/><br/></div>';
				this.refresh=function(callback){
					this.dashboardData=[{rowColumns: 1, widgets: [1]},{rowColumns: 2, widgets: [2,-1]},{rowColumns: 3, widgets: [2,-1,-1]}];
					callback();
				};
				this.toggleEditonMode=function(){
					if(this.editionMode){
						_maf_widget_disableDashboardEdition();
						$("#_maf_widget_edition_mode").removeClass('btn btn-warning').addClass('btn btn-primary').html('<i class="fa fa-cog"></i>&nbsp;Edit page');
						_maf_widgets_toggleEdition(false);
						this.editionMode=false;
					}else{
						_maf_widget_activateDashboardEdition();
						$("#_maf_widget_edition_mode").removeClass('btn btn-primary').addClass('btn btn-warning').html('<i class="fa fa-play"></i>&nbsp;Display page');
						_maf_widgets_toggleEdition(true);
						this.editionMode=true;
					}
				}
				this.addWidget=function(){
					
				};
				this.removeWidget=function(widgetElement){
					var widgetElementId=widgetElement.attr('id');
					var selectedRowIndex=-1;
					var selectedWidgetIndex=-1;
					var rowIndex=0;
					var localDashboardData=this.dashboardData;
					$("._maf_widget_dashboard_row").each(function(){
						var widgetIndex=0;
						var rowConfig=localDashboardData[rowIndex];
						$(this).children("._maf_widget_widget_area").each(function(){
							var widgetId=rowConfig.widgets[widgetIndex];
							if(("maf_widget_widget_id_"+widgetId)==widgetElementId){
								selectedRowIndex=rowIndex;
								selectedWidgetIndex=widgetIndex;
							}
							widgetIndex++;
						});
						rowIndex++;
					});
					if(selectedWidgetIndex!=-1){
						this.dashboardData[selectedRowIndex].widgets.splice(selectedWidgetIndex,1);
						console.debug(JSON.stringify(this.dashboardData));
					}
				};
				this.addRow=function(){
					
				};
				this.removeRow=function(dashBoardRowElement){
					var rowIndex=0;
					var selectedRowIndex=-1;
					$("._maf_widget_dashboard_row").each(function(){
						if(dashBoardRowElement==$(this)){
							selectedRowIndex=rowIndex;
						}
						rowIndex++;
					});
					if(selectedRowIndex!=-1){
						this.dashboardData.splice(selectedRowIndex,1);
					}
				};
			}
			
			/**
			 * Load a widget at the specified location and
			 * with the specified URL
			 * snapingArea : a jQuery element
			 * url : the URL to be loaded asynchronously with a GET request
			 * ajaxWaitImage : the animated gif displayed while the widget is loading
			 * errorMessage : an error message displayed if the widget cannot display
			 */
			function _maf_widget_loadWidget(snapingArea, url, ajaxWaitImage, errorMessage) {
				snapingArea.html('<div><img src="'+ajaxWaitImage+'"/></div>');
				var jqxhr = $.get(url, function(data) {
					snapingArea.html(data);
					_maf_widgets_toggleEdition(false);
				}).fail(function() {
					snapingArea.html('<div class="bg-danger _maf_widget_error"><i class="fa fa-exclamation-triangle"></i>&nbsp;'+errorMessage+'</div>');
				});
			}
			
			/**
			 * Change the widget state to edition mode or display mode
			 * isEditionMode : true if the widget is to be set in "edition mode" (the configuration button is visible)
			 */
			function _maf_widgets_toggleEdition(isEditionMode, dashboardData){
				if(isEditionMode){
					$("._maf_widget_widget_commands").html('<a class="_maf_widget_widget_command_trash" href="#"><i class="fa fa-trash"></i></a>');
					$("._maf_widget_widget_command_trash").click(function(){
						var widgetElement=$(this).closest("._maf_widget_widget");
						_maf_widget_removeWidgetFromDashboard(widgetElement);
					});
				}else{
					$("._maf_widget_widget_commands").html('<a class="_maf_widget_widget_command_configure" href="#"><i class="fa fa-cog"></i></a>');
					$("._maf_widget_widget_command_configure").click(function(){
						
					});
				}
			}
			
			/**
			 * Set the dashboard page in display mode
			 */
			function _maf_widget_disableDashboardEdition(){
				$("._maf_widget_widget_placeholder").detach();
				$("._maf_widget_dashboard_row_trash").detach();
				$("._maf_widget_dashboard_row_add").detach();
				interact('._maf_widget_draggable').draggable({enabled: false});
				interact('._maf_widget_widget_area').dropzone({enabled:false});
				$("._maf_widget_dashboard_row").toggleClass("_maf_widget_dashboard_row_activated");
			}
			
			/**
			 * Set the dashboard page in edition mode
			 */
			function _maf_widget_activateDashboardEdition(){
				_maf_widget_addPlaceHolderToEmptyCells();
				$("._maf_widget_dashboard_row").toggleClass("_maf_widget_dashboard_row_activated");
				$("._maf_widget_dashboard_row").prepend('<div class="_maf_widget_dashboard_row_trash"><a class="_maf_widget_dashboard_row_trash_button" href="#"><i class="fa fa-trash text-primary"></i></a></div>');
				$("._maf_widget_dashboard_row").append('<div class="_maf_widget_dashboard_row_add"><a class="_maf_widget_dashboard_row_add_button" href="#"><i class="fa fa-plus text-primary"></i></a></div>');
				$("._maf_widget_dashboard_row_trash_button").click(function(event){
					event.preventDefault();
					var rowElement=$(this).closest("._maf_widget_dashboard_row");
					_maf_widget_removeDashboardRow(rowElement);
				});
				$("._maf_widget_dashboard_row_add_button").click(function(event){
					event.preventDefault();
					var rowElement=$(this).closest("._maf_widget_dashboard_row");
					_maf_widget_openDashboardRowTemplateSelector(rowElement);
				});
				
				//Activate the draggability
				interact('._maf_widget_draggable').draggable({
					accept: '.widget',
					autoScroll: true,
					onmove: _maf_widget_dragMoveListener});
				//Activate the management of the drag and drop
				interact('._maf_widget_widget_area').dropzone({
					overlap : 0.30,
					ondropactivate : function(event) {
						event.target.classList.add('_maf_widget_drop-active');
					},
					ondragenter : function(event) {
						var draggableElement = event.relatedTarget,
				        dropzoneElement = event.target;
						dropzoneElement.classList.add('_maf_widget_drop-selected');
					},
					ondragleave : function(event) {
						var draggableElement = event.relatedTarget,
				        dropzoneElement = event.target;
						dropzoneElement.classList.remove('_maf_widget_drop-selected');
					},
					ondrop : function(event) {
						var draggableElement = event.relatedTarget,
				        dropzoneElement = event.target;
						var dropzoneJQueryElement=$(dropzoneElement);
						var draggableJQueryElement=$(draggableElement);
						var parentDraggableJQueryElement=draggableJQueryElement.parent();
						var childDropzoneJQueryElement=dropzoneJQueryElement.children(":first");
						draggableJQueryElement.detach();
						childDropzoneJQueryElement.detach();
						draggableJQueryElement.appendTo(dropzoneJQueryElement);
						draggableJQueryElement.removeAttr('data-x');
						draggableJQueryElement.removeAttr('data-y');
						draggableJQueryElement.removeAttr('style');
						childDropzoneJQueryElement.appendTo(parentDraggableJQueryElement);
					    dropzoneElement.classList.remove('_maf_widget_drop-selected');
					},
					ondropdeactivate : function(event) {
						var draggableElement = event.relatedTarget,
				        dropzoneElement = event.target;
						var draggableJQueryElement=$(draggableElement);
						draggableJQueryElement.removeAttr('data-x');
						draggableJQueryElement.removeAttr('data-y');
						draggableJQueryElement.removeAttr('style');
						dropzoneElement.classList.remove('_maf_widget_drop-active');
					}
				});
			}
			
			/**
			 * Listener used by _maf_widget_activateDashboardEdition() managing the 
			 * drag movements
			 */
			function _maf_widget_dragMoveListener(event){
			    var target = event.target,
		        x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
		        y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;
			    target.style.webkitTransform =
			    target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';
			    target.setAttribute('data-x', x);
			    target.setAttribute('data-y', y);
			}
			
			/**
			 * Add a widget placeholder to any empty row cell
			 */
			function _maf_widget_addPlaceHolderToEmptyCells(){
				$("._maf_widget_widget_area").each(function() {
					//Add a place holder for visualizing the "empty" areas
					if($(this).html().trim()==""){
						var widgetArea=$(this);
						widgetArea.html(_dashboardServiceInstance.placeHolderMessage);
					}
				});
			}
			
			/**
			 * Remove a dashboard row
			 * dashBoardRowElement : the jQuery element of the row
			 */
			function _maf_widget_removeDashboardRow(dashBoardRowElement){
				_dashboardServiceInstance.removeRow(dashBoardRowElement);
				dashBoardRowElement.detach();
			}
			
			/**
			 * Open a popup to select the dashboard row template (1, 2 or 3 columns)
			 */
			function _maf_widget_openDashboardRowTemplateSelector(dashBoardRowElement){
				$('#dashboardRowTemplateSelector').modal('show');
				$('#dashboardRowTemplateSelector').data("mafSourceDashboardRow",dashBoardRowElement);
			}
			
			/**
			 * Remove a widget from the dashboard
			 * widgetElement : the jQuery element for the widget
			 * placeHolderMessage : the content to be added in place of the widget
			 */
			function _maf_widget_removeWidgetFromDashboard(widgetElement){
				_dashboardServiceInstance.removeWidget(widgetElement);
				var widgetArea=widgetElement.parent();
				widgetElement.detach();
				widgetArea.html(_dashboardServiceInstance.placeHolderMessage);
			}
			
			/**
			 * Open the widget catalog for selecting a new widget
			 */
			function _maf_widget_openWidgetSelector(widgetElement){
				
			}
		</script>
		
		<!-- The dashboard row template selector -->
		<div id="dashboardRowTemplateSelector" class="modal fade" tabindex="-1" role="dialog">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title">Dashboard row template</h4>
		      </div>
		      <div class="modal-body">
		        <div class="row" style="padding: 1em;">
		          <div class="col-md-12">
		          	<div class="radio">
					  <label>
					    <input type="radio" name="dashboardRowOption" value="1" checked>
					    1 column
					  </label>
					</div>
		          </div>
		          <div class="col-md-12">
		          	<div class="row _maf_widget_dashboard_template_row">
		          		<div class="col-md-12 _maf_widget_dashboard_template_cell text-center">&nbsp;<i class="fa fa-navicon"></i>&nbsp;</div>
		          	</div>
		          </div>
		          <div class="col-md-12"><br/></div>
		        </div>
		        <div class="row" style="padding: 1em;">
		          <div class="col-md-12">
		          	<div class="radio">
					  <label>
					    <input type="radio" name="dashboardRowOption" value="2">
					    3 columns
					  </label>
					</div>
		          </div>
		          <div class="col-md-12">
					<div class="row _maf_widget_dashboard_template_row">
		          		<div class="col-md-6 _maf_widget_dashboard_template_cell text-center">&nbsp;<i class="fa fa-navicon"></i>&nbsp;</div>
		          		<div class="col-md-6 _maf_widget_dashboard_template_cell text-center">&nbsp;<i class="fa fa-navicon"></i>&nbsp;</div>
		          	</div>
		          </div>
		          <div class="col-md-12"><br/></div>
		        </div>
		        <div class="row" style="padding: 1em;">
		          <div class="col-md-12">
		          	<div class="radio">
					  <label>
					    <input type="radio" name="dashboardRowOption"value="3">
					    3 columns
					  </label>
					</div>
		          </div>
		          <div class="col-md-12">
					<div class="row _maf_widget_dashboard_template_row">
		          		<div class="col-md-4 _maf_widget_dashboard_template_cell text-center">&nbsp;<i class="fa fa-navicon"></i>&nbsp;</div>
		          		<div class="col-md-4 _maf_widget_dashboard_template_cell text-center">&nbsp;<i class="fa fa-navicon"></i>&nbsp;</div>
		          		<div class="col-md-4 _maf_widget_dashboard_template_cell text-center">&nbsp;<i class="fa fa-navicon"></i>&nbsp;</div>
		          	</div>
		          </div>
		          <div class="col-md-12"><br/></div>
		        </div>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		        <button type="button" id="dashboardRowTemplateSelectorAddButton" class="btn btn-primary">Add row</button>
		      </div>
		    </div><!-- /.modal-content -->
		  </div><!-- /.modal-dialog -->
		</div><!-- /.modal -->


		<hr>



		<script>
			function removeURLParameter(url, parameter) {
				//prefer to use l.search if you have a location/link object
				var urlparts = url.split('?');
				if (urlparts.length >= 2) {

					var prefix = encodeURIComponent(parameter) + '=';
					var pars = urlparts[1].split(/[&;]/g);

					//reverse iteration as may be destructive
					for (var i = pars.length; i-- > 0;) {
						//idiom for string.startsWith
						if (pars[i].lastIndexOf(prefix, 0) !== -1) {
							pars.splice(i, 1);
						}
					}

					url = urlparts[0] + '?' + pars.join('&');
					return url;
				} else {
					return url;
				}
			}
		</script>
		<footer>
			<div class="pull-left">
				&copy; <a href="http://www.the-agile-factory.com/">The Agile
					Factory</a>
			</div>
			<div class="pull-right">
				<div class="btn-group dropup" id="lang-selector">
					<button data-toggle="dropdown"
						class="btn btn-default btn-xs dropdown-toggle" type="button">
						English <span class="caret"></span>
					</button>
					<ul class="dropdown-menu pull-right">

						<li><a id="lang-0" href="#">English</a> <script>
							var url = removeURLParameter(document.URL, "lang");
							if (url.indexOf("?") <= -1) {
								url = url + "?";
							}
							$("#lang-0").attr('href', url + '&lang=en');
						</script></li>

						<li><a id="lang-1" href="#">Français</a> <script>
							var url = removeURLParameter(document.URL, "lang");
							if (url.indexOf("?") <= -1) {
								url = url + "?";
							}
							$("#lang-1").attr('href', url + '&lang=fr');
						</script></li>

						<li><a id="lang-2" href="#">Deutsch</a> <script>
							var url = removeURLParameter(document.URL, "lang");
							if (url.indexOf("?") <= -1) {
								url = url + "?";
							}
							$("#lang-2").attr('href', url + '&lang=de');
						</script></li>

					</ul>
				</div>
			</div>
		</footer>
		<p>&nbsp;</p>
	</div>





</body>
</html>






